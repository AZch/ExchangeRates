package com.wcreators.strategyindicators.services.indicators.ema;

import com.wcreators.strategyindicators.services.indicators.ma.EMA;
import generators.PointsGenerator;
import org.junit.jupiter.api.Test;

import java.math.BigDecimal;
import java.util.Optional;

import static org.junit.jupiter.api.Assertions.assertTrue;

class EMATest {

//    private final EMA ema = new EMA(3);

    @Test
    public void loadData() {
//        double[] values = PointsGenerator.getValues();
//        State prev = new State();
//
//        for (int i = 0; i < values.length; i++) {
//            double expected = ema.addPoint(BigDecimal.valueOf(values[i])).doubleValue();
//            prev.v = Optional.of(expected);
//            double actual = emas[i];
//            System.out.println(expected);
//            String indexedErrorMessage = String.format("Incorrect calculated value for %d, %f : %f", i, expected, actual);
//
////            assertTrue(Math.abs(expected - actual) < 0.000001, indexedErrorMessage);
//        }
//        System.out.println();
    }

    private static class State {
        Optional<Double> v = Optional.empty();
    }

    double[] emas = new double[]{
            0,
            0.579145,
            0.8687925,
            1.01364125,
            1.085945625,
            1.1218078125,
            1.13973890625,
            1.148634453125,
            1.1531122265625,
            1.15537611328125,
            1.15654805664063,
            1.15696902832032,
            1.15714951416016,
            1.15723975708008,
            1.15734987854004,
            1.15739993927002,
            1.15752496963501,
            1.15755248481751,
            1.15756624240876,
            1.15743812120438,
            1.15733906060219,
            1.1573595303011,
            1.15749976515055,
            1.15760988257528,
            1.15762994128764,
            1.15754497064382,
            1.15750248532191,
            1.15755624266096,
            1.15759812133048,
            1.15764406066524,
            1.15773203033262,
            1.15769601516631,
            1.15765300758316,
            1.15757650379158,
            1.15759325189579,
            1.1576066259479,
            1.15764331297395,
            1.15762665648698,
            1.15768832824349,
            1.15779916412175,
            1.15788958206088,
            1.15801979103044,
            1.15815489551522,
            1.15825244775761,
            1.15832122387881,
            1.15839561193941,
            1.15841280596971,
            1.15837640298486,
            1.15839320149243,
            1.15842660074622,
            1.15843830037311,
            1.15849415018656,
            1.15848707509328,
            1.15857353754664,
            1.15856176877332,
            1.15852588438666,
            1.15857794219333,
            1.15862897109667,
            1.15864448554834,
            1.15870224277417,
            1.15868112138709,
            1.15865556069355,
            1.15873778034678,
            1.15875389017339,
            1.1587269450867,
            1.15874347254335,
            1.15878173627168,
            1.15883586813584,
            1.15883293406792,
            1.15900146703396,
            1.15909073351698,
            1.15908036675849,
            1.15904018337925,
            1.15896509168963,
            1.15893754584482,
            1.15900377292241,
            1.15902188646121,
            1.15898594323061,
            1.15898797161531,
            1.15893398580766,
            1.15894699290383,
            1.15900349645192,
            1.15912174822596,
            1.15913087411298,
            1.15911543705649,
            1.15909771852825,
            1.15901885926413,
            1.15903442963207,
            1.15896721481604,
            1.15892860740802,
            1.15889430370401,
            1.15888215185201,
            1.15892107592601,
            1.15898553796301,
            1.15902776898151,
            1.15909388449076,
            1.15912194224538,
            1.15907597112269,
            1.15907298556135,
            1.15864149278068,
            1.15855574639034,
            1.15842287319517,
            1.15843143659759,
            1.1584607182988,
            1.1583553591494,
            1.1580126795747,
            1.15784133978735,
            1.15768566989368,
            1.15763783494684,
            1.15763891747342,
            1.15767945873671,
            1.15753472936836,
            1.15743236468418,
            1.15738118234209,
            1.15742059117105
    };



}